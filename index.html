<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="user-scalable=no, viewport-fit=cover">
<title>华一必胜！</title>
<!--<link rel="shortcut icon" href="/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.jpg">-->
<style>
body {
	color: #FFF;
	font-family: Verdana, "Helvetica Neue", Arial, "PingFang SC", "Microsoft JhengHei", "Microsoft YaHei", "Hiragino Sans GB", sans-serif;
	font-size: large;
	text-align: center;
}
.bg {
	background-attachment: fixed;
	background-image: url("/images/huayi.jpg");
	background-position: center;
	background-repeat: no-repeat;
	background-size: cover;
	filter: blur(1.5px);
	height: 100%;
	left: 0px;
	position: fixed;
	top: 0px;
	width: 100%;
	z-index: -1;
}
.panel {
	background-color: rgba(10,10,30,0.3);
	margin: 15px;
	padding: 15px;
	border-radius: 10px;
}
input {
	font-size: large;
}
#colorbar {
	-webkit-overflow-scrolling: touch;
	display: flex;
	flex-wrap: nowrap;
	justify-content: space-between;
	overflow-x: auto;
}
#colorbar::-webkit-scrollbar {
	display: none;
}
.color {
	border-radius: 1em;
	cursor: pointer;
	flex: 0 0 auto;
	height: 6em;
	margin: 20px;
	text-align: center;
	transition: all 1s;
	width: 6em;
}
.color.active {
	transform: rotate(135deg) scale(0.7);
}
#main {
	display: none;
	overflow-x: scroll;
}
canvas, img {
	border-radius: 20px;
}
a {
	color: #EFB24B;
	text-decoration: none;
}
</style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
<div class="bg"></div>
<div class="panel">
	<h1>华师一, 向梦想出发!</h1>
	<p>
		<strong>从汤逊湖北路特一号走向世界</strong>
	</p>
	<p>
	请点击“选取文件”选择本地图片，然后点击“生成”合成头像
	<br>
	如果觉得满意，请右键点击或长按图片手动保存即可
	</p>
	<input id="imageUpload" type="file" accept="image/png,image/gif,image/jpeg,image/bmp">
	<input id="upimage" type="button" onclick="uploadImage()" value="生成">
</div>
<div class="panel">
	<div id="colorbar"></div>
</div>
<div class="panel" id="main">
	<canvas></canvas>
</div>
<div class="panel">
	本项目采用GPL3.0协议发布<!-- <a href="https://zhangshuqiao.org">米米</a> 做了一点微小的工作-->
	<br>
	为保障您的用户体验，建议您使用Chrome浏览
	<br>
	并上传宽高比为1:1且高亮部分较少的图片作为头像
	<br>
	图片均在本地进行生成，我们不会获取任何信息
</div>
<div style="display: none;">
	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 618.4 618.4">
		<defs>
			<style>.cls-1{fill:#ffffff;}</style>
		</defs>
		<g>
			<path class="cls-1" d="M617.19,274.2c-1.41-15.18-4.7-30-8.64-44.58-4.14-15.3-9.14-30.55-16.6-44.68-4.57-8.65-6.72-18.4-12.18-26.56-8.44-12.59-15.9-25.85-26.12-37.23-5.66-6.3-9.8-13.8-15.81-19.94-7.69-7.86-16.06-15-23.82-22.7-6-6-12.66-11.1-19.21-16.37-7.14-5.75-15.62-9.48-23-14.93C460.51,39,447.49,33.65,435.2,27.12c-9.15-4.86-19.31-6.62-28.92-10-7.31-2.59-14.59-5.24-22.16-6.95-11.76-2.65-23.48-5.83-35.51-6.58C339.54,3,330.92-.21,321.76.09,313.35.36,304.9.5,296.5,0c-7.91-.44-15.22,2.81-22.91,3-13,.35-25.58,3.62-38,6.61-14.13,3.38-27.72,9-41.73,12.92C190,23.67,187,25.82,183.5,27.27c-5.93,2.48-11.68,5.41-17.37,8.42-8.76,4.63-17.48,9.31-25.55,15.18-7.07,5.15-15.13,8.84-21.71,14.83-5.7,5.19-11.65,10-17.15,15.51C96.5,86.41,90,90.43,85,96.15c-6.31,7.22-12.75,14.28-18.63,21.9s-12,14.79-16.89,22.79c-6.59,10.87-13.62,21.5-18.73,33.41-8.34,19.42-17,38.67-22.27,59.16s-9.07,41-8.43,62.17c.15,4.83,0,9.66,0,16.82.62,11.7-.64,25.72,1.78,39.79,2.83,16.4,6.08,32.6,11,48.51,5,16.21,12.46,31.38,19.09,46.92,5.76,13.5,14.18,25.17,22.06,37.29,4.35,6.71,10.32,12.28,14.52,18.87,4.35,6.83,10.29,12,15.07,18.34,3.68,4.85,9,8.49,13.58,12.62,6.88,6.14,13.46,12.69,20.78,18.26,11.77,9,24.41,16.71,37,24.52,19.77,12.28,41.27,20.72,63.38,27.37,13.65,4.1,27.56,7.68,41.87,9.44,12,1.48,23.83,4.8,36.19,3.91,7.3-.52,14.66-.06,22-.1,10.07-.06,20.1.19,30.12-1.9,14.95-3.13,30.06-5.5,44.79-9.68,10.15-2.89,20.07-6.49,30.1-9.72,13.47-4.33,25.83-11.48,38-18.58q17-9.87,33.14-21.09c11.89-8.25,22-18.68,32.52-28.55a186.41,186.41,0,0,0,22.49-25c6.11-8.26,12.59-16.3,18.56-24.7,9.43-13.28,16.43-27.79,23.14-42.6a338.09,338.09,0,0,0,16.47-44.17c5.38-18.43,9.67-37.43,10.1-56.7C618.3,315.09,619.09,294.63,617.19,274.2ZM608,321.63a304.25,304.25,0,0,1-8.17,57.22c-3,12.34-7.46,24.17-11.63,36.11-.31.89-.07,1.79-1.44,2.19-7.32,2.12-14.59,4.38-21.87,6.65-2.75.86-4.34.49-5.41-2.71-3.75-11.24-7.39-22.56-10.8-33.86-2-6.7-4-13.66-5.66-20.59-.6-2.5.52-3,2.32-3.48,5.61-1.61,11.29-3,16.84-4.84,2.86-1,3.35-2.37,2.66-4.73-1.17-4-2.55-8-3.75-12.08-.62-2.08-1.77-1.27-3.06-.84-5.85,2-11.81,3.62-17.54,5.85-2.94,1.15-4,.6-4.9-2.31-3.81-12.58-7.71-25.14-11.82-37.63-.76-2.31-.63-2.76,1.72-3.74,5.73-2.39,11.8-3.58,17.63-5.59,3.57-1.24,6.84-2,5-6.85-.11-.3,0-.67,0-1-1-9.66-3.1-11.06-12-8.21-2.16.7-4.35,1.32-6.53,2-4,1.18-9.51,4.5-11.64,3-2.92-2-3.28-7.74-4.69-11.89-.16-.45,0-1-.11-1.49-1.64-6.75-1.73-6.77-8.42-4.64-10.51,3.34-21,6.62-31.54,10-6.66,2.13-6.81,2.23-4.63,8.68.82,2.41,1.36,4.94,2.8,7.23,2.28,3.64.9,6.76-3.1,8.06-1.86.6-3.75,1.1-5.79,1.69-.84-3.68-2.19-7.33-2.31-11.27-.09-2.82-1.22-5.42-4.39-4.21-5.8,2.24-12.13,2.17-17.88,4.69-2.48,1.09-3.15,2.39-2.56,4.45,1.87,6.64.28,13.32.17,20.09-1.95-5.79-4.05-11.53-5.77-17.39-.87-2.94-1.93-3.37-4.88-2.4-15.11,5-30.32,9.68-45.5,14.45-8.51,2.68-17,5.45-25.57,7.91-4.34,1.24-5.51,3.15-3.57,7.48,3.73,8.33,6.19,17.13,8.66,25.91,4.88,17.32,9.36,34.75,15.26,51.79,6.42,18.55,11.83,37.45,18.1,56.06,3.27,9.68,5.93,19.52,8.7,29.33.57,2,.66,2.5,3.09,1.69,10-3.34,20.13-6.16,30.18-9.3,2.56-.8,2.17-2.84,1.49-4.92-3.31-10.17-7.28-20.11-9.9-30.53-1.48-5.89-5.41-11-5.82-17.41-.15-2.27.1-3.27,2.17-3,3.22.47,6.16-4.07,8.76-1.49,3.5,3.47,4.29,8.75,5.16,13.48,2.3,12.54,6.95,24.33,10.89,36.35.87,2.65,2.16,2.42,4.42,1.69,14.33-4.7,28.57-9.8,43.14-13.64,20.28-5.34,40-12.43,60-18.45q10-3,20-6.18c1.07-.34,2.13-1.41,3.17-.44,1.32,1.22,0,2.43-.51,3.52-5.71,11.4-12.86,21.92-19.76,32.6a268.54,268.54,0,0,1-41.37,50c-16.38,15.41-34,29.24-53.57,40.5-23,13.19-46.54,24.64-72.41,31a452.7,452.7,0,0,1-45.46,9.17c-11.22,1.57-22.39,1.45-33.61,1.87-21.72.8-42.94-2.12-64.16-6.5-9.88-2.05-19.55-4.92-29.45-6.91-8.31-1.67-16.22-5.67-24.08-9.16-9.6-4.26-19-9-28.42-13.68-1.26-.62-2.89-2-3-3.06s2-1.41,3.28-1.86c7.21-2.46,14.77-3.61,22-6.17,4.51-1.6,4.63-4.12,3.61-7.5-3.14-10.42-6.15-21-8.32-31.52-4.65-22.64-11.66-44.61-17.29-67-4.81-19.05-10.94-37.76-15.09-57,0-.16-.16-.3-.21-.45-1.37-4-1.68-9.39-4.48-11.48-1.86-1.4-7.22,2-11.07,3.09-6.24,1.75-12.49,3.51-18.81,4.93-2.75.62-3.37,1.22-2.48,4.21,3.29,11.05,6.14,22.23,9.15,33.36,5.67,21,11.45,42,17,63.05,4.55,17.4,8.36,35,13.31,52.3,1.85,6.5,2.95,13.23,6,19.9-6.49-1.06-10.54-5.5-15.23-8.44-12.92-8.11-24.48-17.93-35.58-28.54-7.94-7.58-16-15-23.38-23.15-11.12-12.38-20.51-26-29.34-40.1-6.32-10.1-12.7-20.1-17.14-31.23-5.94-14.86-11.93-29.69-16.58-45a251.9,251.9,0,0,1-8.66-41c-2.47-19.14-3.36-38.45-1.56-57.86.87-9.49,1.54-19,3.28-28.33,2.5-13.37,4.47-26.84,9.62-39.63,1.66-4.15,2.07-8.83,5-13.23,1.68,5.64,3.58,10.82,4.24,16.31.43,3.64.91,5.47,5.12,2.74A96.06,96.06,0,0,0,48.85,220c3.4-3,5.26-2.36,6.21,2,2.07,9.54,5.76,18.58,8.64,27.85,2.45,7.85,4.56,15.81,7.06,23.64.6,1.89.72,3,3.55,2.19,13.06-3.89,26.09-7.89,39.05-12.1,6.29-2.05,6.89-2,4.6-8.09-6.75-18-10.37-36.89-16.78-55-3.7-10.4-7.18-20.86-10.11-31.5-1-3.5-4-2.17-5.61-1.46-8.53,3.67-17.46,6.06-26.34,8.59-4.6,1.3-8.14,4.26-11.4,7.3a75.86,75.86,0,0,1-11.92,8.88c-1.52-2.46-.15-4.14.61-5.89a268.65,268.65,0,0,1,27.73-48,286.26,286.26,0,0,1,30.85-37C110.42,86,126.79,71.81,145,60A351.45,351.45,0,0,1,177.16,42a236,236,0,0,1,42.47-16.93C232,21.59,244.47,18.66,257,16c8.59-1.84,17.31-1.63,25.83-3,10.37-1.69,20.71-1.86,31.11-1.79,13.18.1,26.17,2,39.18,3.87a320.13,320.13,0,0,1,63.71,16.12c15.73,5.7,30.28,13.84,44.68,22.37,8.22,4.87,16.23,9.95,24,15.45a248.25,248.25,0,0,1,26.47,22c5.7,5.36,11.2,10.94,16.79,16.42,4.37,4.27,8,9.13,11.92,13.82,7.72,9.29,14.44,19.32,21.07,29.36,7.39,11.2,14.36,22.76,19.45,35.25,6.11,15,12.29,30,16.31,45.68,3.85,14.94,7.42,30,8.66,45.58C607.38,291.89,608.68,306.76,608,321.63ZM461.22,374.3c.34,1.57,1.31,3,1.74,4.56,2.63,9.51,2.59,9.47,11.67,6.48,6.47-2.13,13-4.06,19.48-6.18,1.94-.64,3.18-.56,3.88,1.7,3.4,11,7.43,21.81,10.15,33,1.94,7.91,4.27,15.63,7,23.68.22,1.19-.72,1.36-2,1.75-11.48,3.47-22.91,7.09-34.38,10.62-4.11,1.26-4-2.66-4.3-4.43-1.89-12.15-6.71-23.4-10.3-35C458,390.58,451.4,370.88,445,351.1c-2-6.33-3.86-12.72-6-19-.93-2.81.25-3.63,2.74-3.94,11.2-1.42,21.66-5.62,32.24-9.17,3.29-1.11,3.87-.15,4.65,2.35q5.63,18,11.36,36.05c.81,2.56,1.37,4-2.52,5-8.16,2-16,5.22-24.08,7.74C461.06,370.86,460.81,372.43,461.22,374.3Zm-54.69.86c8.33-2.16,8.38-2.19,11.19,6.23,2.25,6.73,4.28,13.52,6.59,20.22a8.88,8.88,0,0,1,.77,3.29c0,1.65.38,3.4-2.31,3.32-1,0-2.14.68-3.18,1.12-6,2.55-5.89,2.51-7.79-3.74-2.56-8.47-5.23-16.93-8.19-25.26C402.41,377,403.73,375.88,406.53,375.16Zm-11.48-24.45c-2.19-6.25-4.31-12.5-6.23-18.84-.61-2-.38-2.72,1.26-3.19,2.95-.84,6.14-.61,9-2,1.09-.52.9.53,1.13,1,4.24,8.46,5.36,17.94,8.83,26.51A2.5,2.5,0,0,1,407.3,357a6.11,6.11,0,0,1-1,.12C397.77,359,397.91,358.91,395.05,350.71Z"/>
			<path class="cls-1" d="M305.19,506.8c-1-4.57-3.88-4.2-7.07-3.12-5.14,1.73-10.16,3.9-15.36,5.42-9.64,2.8-19.11,6.14-28.94,8.34-6.72,1.51-6.58,2.13-8.64-4-.26-.77-.21-1.75-.67-2.33-2.69-3.38-.55-5.3,2.13-6.78,7.64-4.21,15.4-8.2,23-12.42,6.95-3.84,13.87-7.76,20.65-11.9,1.58-1,4.06-1.9,3.33-4.78-1.2-4.7-2.54-9.38-3.46-14.14-.75-3.85-3.77-3.72-5.59-2.51-2.9,1.93-6.17,2.88-9.09,4.64-12.83,7.73-25.68,15.44-38.69,23.25-2-5.61-4-10.71-5.54-16-5.36-18.39-11.39-36.56-16.39-55.07-4.56-16.91-10.58-33.42-15.7-50.19-.8-2.58-1.56-2.08-3.4-1.48q-18,5.89-36.17,11.52c-3.37,1-4,2.42-2.71,6,4,11.31,7.65,22.76,11.1,34.26,4.57,15.23,9.72,30.28,13.75,45.69,3.92,15,8.9,29.65,13.57,44.41,1.4,4.43-1.29,6.54-4.49,7.35-2.81.72-3.51,1.18-1.92,3.68,1.48,2.34,1.91,5,2.29,7.69.4,3,1,6.56,2.86,8.47,1.66,1.65,4.28-1.17,6.45-2.26s4.3-.65,4.57,2.53c.45,5.24,3.8,9.65,4.19,15,.15,2,1.86,3.7,4.78,2.65,6.87-2.45,13.81-4.69,20.77-6.89,4-1.26,8.12-2.22,12.17-3.32,7.27-2,14.13-5.47,21.43-7.23,12.83-3.09,25.37-7.06,37.83-11.29,1.79-.61,3.87-2.25,2.38-4.58C306.55,514.11,306,510.4,305.19,506.8Z"/>
			<path class="cls-1" d="M272.64,242.17c-.78-3.77-3-3.36-5.81-2.41-5.63,1.9-11.39,3.43-17.06,5.24-17.42,5.56-35.09,10.32-52.59,15.63-6.92,2.11-6.82,2.4-9.15-4.46-.21-.62-.77-1.16-.83-1.77-.43-4.46-2.59-4.78-6.4-3.36-5.84,2.16-11.88,3.77-17.62,5.54-1.45-.64-2.41-.14-3.54.26-7.17,2.53-14.29,5.31-21.65,7.12-3.59.88-4.61,1.91-3.39,5.22.73,2,.91,4.06,1.94,6,1.43,2.73.83,4.92-2.61,5.95-7.46,2.21-14.8,4.82-22.29,6.93C95.27,292.7,78.91,297.32,62.86,303c-4.28,1.53-6.78,2.81-4,7.89,1.53,2.77,2.12,6.15,2.7,9.33.82,4.48,4,4.76,7,3.55,6.81-2.73,13.92-4.46,20.86-6.73q25.43-8.32,50.88-16.58c2.74-.89,3.13.64,3.93,2.84,3.62,9.93,6,20.23,9.7,30.14a176.4,176.4,0,0,1,6.38,20.94c.72,3.06,2,5.81,6.9,4,5.15-1.87,10.43-3.51,15.67-5.23q14.57-4.77,29.32-8.94c3-.83,3.25-2.39,2.57-4.74-1.21-4.22-2.22-8.51-3.82-12.58-5.25-13.32-8.84-27.17-13.39-40.7-.74-2.19-.38-2.69,1.83-3.29,4.85-1.32,9.54-3.18,14.34-4.71,17-5.4,34.06-10.65,51-16.19,4.08-1.33,9.88-.46,11.91-4.17s-2.44-8.14-2.7-12.59C273.92,244.23,272.87,243.26,272.64,242.17Z"/>
			<path class="cls-1" d="M259.17,202.55c-1.18-3.09-2.22-3.82-5.71-2.65-16.22,5.41-32.76,9.82-48.82,15.76-2.64,1-7.43,4.1-9.29-1.95-4-12.88-7.81-25.79-11.86-38.64-.75-2.36-.25-3.57,1.87-4.67a119.69,119.69,0,0,1,13.81-6c12.28-4.48,24.13-10,36.36-14.61,1.59-.6,4.21-1.37,4.44-3.33-1.78-5.56-3.32-10.47-4.95-15.35-1-2.85-2.31-3.63-5.48-2-8,4-16.18,7.47-24.35,11s-16.86,6.75-25,10.75c-2.35,1.16-2.59.73-4-.8s-1-3.08-1.46-4.6c-.7-2.43-1.54-3.44-4.58-2.86-7.49,1.43-14.27,4.93-21.67,6.65-7.09,1.65-13.75,4.93-21.05,6-2.43.36-4.34,1.2-2.63,4.62,1.5,3,2,6.5,3,9.76.66,2.1.08,3.69-2.06,4.15-5.48,1.19-10,4.62-15.2,6.41-4.06,1.39-8.19,2.83-4.8,8.62.66,1.14.12,2.94.29,4.42,1,8,3.41,9.36,10.5,6.19,4.44-2,9.17-3.3,13.59-5.32,4.78-2.19,5.84.51,6.9,4.28,4.61,16.4,9.36,32.76,14.12,49.12.76,2.64,1.51,4.64,5.45,3.12,2.45-.95,5.18-1.85,7.82-2.59,9.83-2.77,19.57-5.87,29.23-9.18,8.59-2.94,17.24-5.91,25.9-8.35,13.72-3.87,27.43-7.76,41-12.11,1.86-.59,2.64-.76,2.11-3.2A86.72,86.72,0,0,0,259.17,202.55Z"/>
			<path class="cls-1" d="M326.43,429.67C321.19,414.9,316,400,310.16,385.46c-6-14.91-11.37-30.07-17-45.13-.35-.94.16-2.76-1.85-1.8-9.88,4.71-20.87,6.07-30.94,10.33-2.83,1.2-2.51,2.31-1.77,4.34,5.86,16,12,31.88,17.44,48,4.49,13.19,10.15,25.92,13.56,39.55,2.61,10.47,7.37,20.4,11.1,30.59,5.31,14.56,10.66,29.11,15.75,43.75,1.09,3.15,2.67,3.69,5.4,2.71,9.51-3.41,18.89-7.24,28.73-9.63,1.73-.42,1.42-1.49,1.52-3a16.13,16.13,0,0,0-.5-2c-5.67-15.69-11.4-31.35-17-47.05C331.48,447.41,329.48,438.27,326.43,429.67Z"/>
			<path class="cls-1" d="M525.81,129.52c-1-2.61-1.5-6.64-5.35-7.63-5.36,1.08-10,3.65-14.93,4.89-15,3.78-29.42,9.3-44.19,13.78-16.44,5-32.59,10.85-49.25,15.21-13.3,3.49-26.33,8-39.46,12.18-10.2,3.2-20.31,6.71-30.59,9.65-8.42,2.41-16.37,6.21-25.1,7.73-5.67,1-6.45,2.89-4.87,9,1.23,4.71,2.77,9.34,4,14,.85,3.35,2.54,4,5.69,2.82,9.53-3.71,19.4-6.46,29.09-9.7,14.12-4.72,28.67-8.18,43-12.39,7-2.06,13.8-4.68,20.74-6.93q17.58-5.7,35.22-11.25,14.34-4.49,28.73-8.75c7-2.05,14.06-3.72,21-5.87,9.28-2.89,18.42-6.26,27.73-9,3-.89,3.38-2.43,2.57-4.71C528.23,138.25,527.48,133.66,525.81,129.52Z"/>
			<path class="cls-1" d="M276.17,446.54c-4.92-12.89-10-25.72-14.7-38.68-5.31-14.61-10.19-29.38-15.54-44-1-2.67-1-5.88-3.53-7.91-3.17-2.58-5.44,1-8.22,1.2-7.71.55-14.75,3.66-22.05,5.83-1.62.49-2.53,1-1.82,2.57,4.39,10,6.07,20.95,10.24,30.88,4.84,11.51,8.55,23.44,13.66,34.82,4.39,9.78,7,20.22,11.71,29.91.74,1.52,1.21,2.06,2.69,1.93a3.64,3.64,0,0,0,1,0c9-2.72,18-5.41,27-8.23,1.79-.56,1.78-2.37,1.41-3.83A40.34,40.34,0,0,0,276.17,446.54Z"/>
		</g>
	</svg>
</div>
<script>
/*
 * Created by Shuqiao Zhang in 2018.
 * https://zhangshuqiao.org
 */

/*
 * This program is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 */

var canvas = $("canvas")[0],
	context = canvas.getContext("2d"),
	firstTime = true,
	img = new Image(),
	cover = new Image();

const colors = ["white", "saddlebrown", "red", "orange", "yellow", "green", "blue", "purple", "grey", "lavender", "gold", "silver"];
for (i in colors) {
	$("#colorbar").append(`<div class="color" style="background-color: ${colors[i]};" onclick="pickColor(${i});">
	</div>`);
}
pickColor(0);

function uploadImage() {
	if (!$("#imageUpload").prop("files")[0]) {
		alert("请先选择图片，再点击生成！");
		return;
	}
	img.src = window.URL.createObjectURL($("#imageUpload").prop("files")[0]);
	img.onload = generate;
}
function generate() {
	$("#result").remove();
	$("canvas").show();
	var length = img.width > img.height ? img.height : img.width;
	canvas.width = canvas.height = length;
	context.drawImage(img, 0, 0, length, length, 0, 0, length, length);
	drawCover(length);
}
//https://stackoverflow.com/questions/3768565/drawing-an-svg-file-on-a-html5-canvas
function drawCover(length) {
	var svg = $("svg")[0];
	// get svg data
	var xml = new XMLSerializer().serializeToString(svg);
	// make it base64
	var svg64 = btoa(xml);
	var b64Start = "data:image/svg+xml;base64,";
	// prepend a "header"
	var image64 = b64Start + svg64;
	// set it as the source of the img element
	cover.src = image64;
	// draw the image onto the canvas
	cover.onload = function() {
		context.drawImage(cover, length * 0.02, length * 0.02, length * 0.96, length * 0.96);
		saveCanvas();
	}
}
function saveCanvas() {
	var image = canvas.toDataURL("image/png");
	$("#main").prepend(`<img id="result" src="${image}">`);
	$("canvas").hide();
	if (firstTime) {
		$("#main").slideDown();
		firstTime = false;
	}
}
function pickColor(index) {
	$(".color").removeClass("active").eq(index).addClass("active");
	$("svg").find("style").html(`<style>.cls-1{fill:${colors[index]};}</style>`);
	if (img.src) generate();
}
</script>
</body>
</html>
